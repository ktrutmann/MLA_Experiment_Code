{% extends "global/Page.html" %}
{% load otree static %}

{% block title %}
    Ending questionnaire
{% endblock %}

{% block content %}
    <p>You have reached the final pages of the study.
    Please answer the following questions:</p>
{% formfield player.age label='Age'%}
{% formfield player.gender label='Gender'%}
{% formfield player.is_student label='Are you a student?'%}
{% formfield player.study_field label='If so, in what subject?'%}
{% formfield player.investment_experience %}
{% formfield player.purpose %}
{% formfield player.attention_check %}
{% formfield player.attentiveness %}
{% formfield player.engagement %}

    {% next_button %}

    <style>
    .field-investment_experience{
        margin-bottom: 30px;
    }

    .col-form-label {
        margin-top: 10px;
        margin-bottom: 10px;
    }
    </style>

    <script>
        window.onload = function (){
            // Set experience Labels
            let scale_elements = document.getElementsByClassName('field-investment_experience');

            for (let this_scale of scale_elements){
                let scale_html = this_scale.innerHTML;
                this_scale.innerHTML = "<span style='margin-right: 10px; background: #eeeeee'>No experience</span>" +
                    scale_html +
                    "<span style='background: #eeeeee'>Professional</span>";
                console.log(this_scale);
            }

            // Excitement labels
            scale_elements = document.getElementsByClassName('field-interest');

            for (let this_scale of scale_elements){
                let scale_html = this_scale.innerHTML;
                this_scale.innerHTML = "<span style='margin-right: 10px; background: #eeeeee'>Not engaging</span>" +
                    scale_html +
                    "<span style='background: #eeeeee'>Very engaging</span>";
                console.log(this_scale);
            }

            // Attention labels
            scale_elements = document.getElementsByClassName('field-engagement');

            for (let this_scale of scale_elements){
                let scale_html = this_scale.innerHTML;
                this_scale.innerHTML = "<span style='margin-right: 10px; background: #eeeeee'>Inattentive</span>" +
                    scale_html +
                    "<span style='background: #eeeeee'>Very attentive</span>";
                console.log(this_scale);
            }
        }
    </script>

{% endblock %}
